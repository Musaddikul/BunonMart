<!-- shop/templates/shop/product_list.html -->
<form method="get" class="mb-4">
    <input type="text" name="q" placeholder="Search..." value="{{ request.GET.q }}">
    
    <select name="category">
        <option value="">All Categories</option>
        {% for cat in categories %}
            <option value="{{ cat.name }}" {% if request.GET.category == cat.name %}selected{% endif %}>
                {{ cat.name }}
            </option>
        {% endfor %}
    </select>

    <select name="sort">
        <option value="">Sort By</option>
        <option value="price_low" {% if request.GET.sort == "price_low" %}selected{% endif %}>Price: Low to High</option>
        <option value="price_high" {% if request.GET.sort == "price_high" %}selected{% endif %}>Price: High to Low</option>
        <option value="newest" {% if request.GET.sort == "newest" %}selected{% endif %}>Newest</option>
        <option value="popular" {% if request.GET.sort == "popular" %}selected{% endif %}>Most Popular</option>
    </select>

    <button type="submit">Apply</button>
</form>

<div class="product-grid">
    {% for product in products %}
        <div class="product-card">
            <h3>{{ product.name }}</h3>
            <p>{{ product.price }} BDT</p>
        </div>
    {% empty %}
        <p>No products found.</p>
    {% endfor %}
</div>
